# DDSP-SVC 现代化 UI 开发计划 (FastAPI + Vue 3)

**版本**: v1.0
**日期**: 2026-01-13
**开发周期**: 分为三个阶段（基础框架、功能集成、UI/UX 优化）。

---

## 第一阶段：基础框架与视觉设计 (Apple 风格暗色模式)

### 1. 视觉规范 (Apple Design System)
- **色调**: 采用 `#1C1C1E` (System Background Secondary) 作为主背景，`#2C2C2E` 作为卡片背景。
- **圆角**: 容器统一使用 `12px` 或 `16px` 圆角。
- **模糊效果**: 侧边栏和顶部导航使用 `backdrop-filter: blur(20px)` 实现磨砂玻璃质感。
- **文字**: 
  - 标题: `#FFFFFF` (高对比度)。
  - 正文: `#EBEBF5` (85% 透明度，Secondary Label)。
  - 辅助说明: `#EBEBF5` (60% 透明度，Tertiary Label)。
- **边界控制**: 统一 `24px` 的页面边距，卡片间距 `16px`。

### 2. 后端与前端初始化
- [ ] 初始化 FastAPI 项目，配置静态资源托管。
- [ ] 初始化 Vue 3 项目，安装 `Naive UI` (因其高度可定制性，比 Element Plus 更易实现 Apple 风格)。
- [ ] 搭建三页面导航架构。

---

## 第二阶段：核心功能页面实现

### 3. 页面一：音频预处理 (Audio Processing)
- **布局**: 左侧上传/列表，右侧 MSST 分离与切分参数。
- **功能**:
  - MSST 任务队列可视化。
  - 波形预览组件（集成 `Wavesurfer.js`）。
  - 处理后的文件自动归类显示。

### 4. 页面二：模型训练 (Model Training)
- **布局**: 顶部统计数据（Epoch, Steps, Loss），中间配置编辑，底部日志流。
- **功能**:
  - **TensorBoard 嵌入**: 采用 Iframe 或自定义图表组件展示 Loss 曲线。
  - 训练状态动态进度条。
  - 一键保存/导出模型。

### 5. 页面三：音频推理 (Audio Inference)
- **布局**: 左右分栏设计。左侧为推理参数调节（滑块、开关），右侧为音频上传与转换结果。
- **功能**:
  - 变调 (Key Shift) 实时滑块调节。
  - 转换历史记录。
  - 音频对比播放功能。

---

## 第三阶段：优化与发布

### 6. UI/UX 增强
- [ ] **音频波形显示**: 集成 `Wavesurfer.js` 用于可视化处理前后的音频。
- [ ] **暗黑模式**: 适配现代化审美。
- [ ] **移动端适配**: 响应式设计。

### 7. 部署与打包
- [ ] 编写一键启动脚本 (`run_web.bat`)。
- [ ] 提供虚拟环境自动检查与依赖补全功能。

---

## 技术细节参考
- **后端端口**: 默认 8000。
- **前端端口**: 开发环境 5173，生产环境由 FastAPI 静态托管。
- **模型存放**: `models/msst/` 存放分离模型，`exp/` 存放训练模型。

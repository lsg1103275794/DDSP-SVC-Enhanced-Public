# DDSP-SVC é¡¹ç›®æ¶æ„å›¾

## ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

æœ¬æ–‡æ¡£æä¾› DDSP-SVC (Differentiable Digital Signal Processing - Singing Voice Conversion) é¡¹ç›®çš„å®Œæ•´æ¶æ„å¯è§†åŒ–ã€‚

---

## 1. æ•´ä½“ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ç”¨æˆ·ç•Œé¢å±‚ (User Interface)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Web Frontend (Vue 3)                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Preprocess   â”‚  â”‚   Training   â”‚  â”‚  Inference   â”‚  â”‚  Tools  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    View      â”‚  â”‚     View     â”‚  â”‚     View     â”‚  â”‚   View  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  Tech Stack: Vue 3 + TypeScript + Naive UI + Pinia + Vite            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚                                         â”‚
â”‚                                     â”‚ HTTP/REST API                           â”‚
â”‚                                     â–¼                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           API å±‚ (FastAPI Backend)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        FastAPI Application                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   System   â”‚  â”‚ Preprocess â”‚  â”‚   Train    â”‚  â”‚  Inference   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Router   â”‚  â”‚   Router   â”‚  â”‚   Router   â”‚  â”‚    Router    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚         â”‚                â”‚                â”‚                â”‚          â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â”‚                              â”‚                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚                    Service Layer                              â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Preprocess   â”‚  â”‚    Train     â”‚  â”‚    Inference     â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   Service    â”‚  â”‚   Service    â”‚  â”‚     Service      â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚           MSST Service (Audio Separation)            â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚                                         â”‚
â”‚                                     â–¼                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        æ ¸å¿ƒå¤„ç†å¼•æ“å±‚ (Core Engine)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Reflow Training Engine                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ Data Loader  â”‚  â”‚  LynxNet2    â”‚  â”‚    Solver    â”‚                â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚   (Model)    â”‚  â”‚              â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚  â”‚  â”‚   Reflow     â”‚  â”‚   Vocoder    â”‚                                   â”‚ â”‚
â”‚  â”‚  â”‚  Algorithm   â”‚  â”‚              â”‚                                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       DDSP Processing Engine                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚    Core      â”‚  â”‚   Vocoder    â”‚  â”‚ Unit2Control â”‚                â”‚ â”‚
â”‚  â”‚  â”‚    DDSP      â”‚  â”‚              â”‚  â”‚              â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ Effects      â”‚  â”‚  F0 Smoother â”‚  â”‚   Biquad     â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ Chain        â”‚  â”‚              â”‚  â”‚   Filter     â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ Enhancements â”‚  â”‚     LFO      â”‚  â”‚  Fast Math   â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ (AudioNoise) â”‚  â”‚              â”‚  â”‚              â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Audio Encoders (ç‰¹å¾æå–)                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚      HuBERT Encoder          â”‚  â”‚       RMVPE Encoder          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  (Content Feature)           â”‚  â”‚  (F0 Pitch Extraction)       â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  - Soft Content Vector       â”‚  â”‚  - Deep UNet Model           â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚    ContentVec Encoder        â”‚  â”‚       FCPE Encoder           â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  (Alternative Content)       â”‚  â”‚  (Fast Crepe Pitch)          â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              NSF-HiFiGAN Vocoder (Neural Source Filter)                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚  Generator   â”‚  â”‚   nvSTFT     â”‚  â”‚    Models    â”‚                â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         MSST (Music Source Separation Training) Engine                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚  â”‚   BS-Roformer        â”‚  â”‚  Mel Band Roformer   â”‚                   â”‚ â”‚
â”‚  â”‚  â”‚   (Band-Split)       â”‚  â”‚                      â”‚                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚  â”‚   Demucs / HTDemucs  â”‚  â”‚   MDX23C TFC-TDF     â”‚                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚ â”‚
â”‚  â”‚  â”‚   SCNet              â”‚  â”‚   BANDIT BSRNN       â”‚                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚ â”‚
â”‚  â”‚  Purpose: Vocal Separation, Denoising, Dereverb, Karaoke              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

## 2. æ•°æ®æµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Data Pipeline Flow                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Raw Audio   â”‚
â”‚   Input      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Preprocessing Stage                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Slice    â”‚â†’ â”‚   MSST     â”‚â†’ â”‚  Feature   â”‚â†’ â”‚  F0 Extract  â”‚  â”‚
â”‚  â”‚   Audio    â”‚  â”‚ Separation â”‚  â”‚ Normalize  â”‚  â”‚   (RMVPE)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Training Stage                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Load     â”‚â†’ â”‚  Encoder   â”‚â†’ â”‚   Reflow   â”‚â†’ â”‚  Optimizer   â”‚  â”‚
â”‚  â”‚  Dataset   â”‚  â”‚  (HuBERT)  â”‚  â”‚   Model    â”‚  â”‚   Training   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â†“                             â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                                  â”‚ Checkpoint   â”‚                     â”‚
â”‚                                  â”‚    Saved     â”‚                     â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Inference Stage                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Input    â”‚â†’ â”‚  Load      â”‚â†’ â”‚   DDSP     â”‚â†’ â”‚   Vocoder    â”‚  â”‚
â”‚  â”‚   Audio    â”‚  â”‚  Model     â”‚  â”‚ Processing â”‚  â”‚  Synthesis   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â†“                             â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                                  â”‚ AudioNoise   â”‚                     â”‚
â”‚                                  â”‚ Enhancements â”‚                     â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                         â†“                             â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                                  â”‚   Output     â”‚                     â”‚
â”‚                                  â”‚   Audio      â”‚                     â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. API è·¯ç”±æ¶æ„

```
FastAPI Application
â”œâ”€â”€ / (Root)
â”‚   â””â”€â”€ Welcome Message + Docs Link
â”‚
â”œâ”€â”€ /api/v1/system
â”‚   â”œâ”€â”€ GET /health              â†’ ç³»ç»Ÿå¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ GET /gpu_info            â†’ GPU ä¿¡æ¯
â”‚   â”œâ”€â”€ GET /files               â†’ æ–‡ä»¶åˆ—è¡¨
â”‚   â””â”€â”€ /static/*                â†’ é™æ€æ–‡ä»¶æœåŠ¡
â”‚       â”œâ”€â”€ /uploads/*           â†’ ä¸Šä¼ çš„éŸ³é¢‘æ–‡ä»¶
â”‚       â”œâ”€â”€ /processed/*         â†’ å¤„ç†åçš„æ–‡ä»¶
â”‚       â””â”€â”€ /output/*            â†’ è¾“å‡ºæ–‡ä»¶
â”‚
â”œâ”€â”€ /api/v1/preprocess
â”‚   â”œâ”€â”€ POST /upload             â†’ ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ POST /slice              â†’ åˆ‡ç‰‡éŸ³é¢‘
â”‚   â”œâ”€â”€ POST /separate           â†’ MSST éŸ³é¢‘åˆ†ç¦»
â”‚   â”œâ”€â”€ POST /extract_features   â†’ ç‰¹å¾æå–
â”‚   â””â”€â”€ GET /tasks/{task_id}     â†’ æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
â”‚
â”œâ”€â”€ /api/v1/train
â”‚   â”œâ”€â”€ POST /start              â†’ å¼€å§‹è®­ç»ƒ
â”‚   â”œâ”€â”€ POST /stop               â†’ åœæ­¢è®­ç»ƒ
â”‚   â”œâ”€â”€ GET /status              â†’ è®­ç»ƒçŠ¶æ€
â”‚   â””â”€â”€ GET /checkpoints         â†’ æ£€æŸ¥ç‚¹åˆ—è¡¨
â”‚
â””â”€â”€ /api/v1/inference
    â”œâ”€â”€ GET /models              â†’ å¯ç”¨æ¨¡å‹åˆ—è¡¨
    â”œâ”€â”€ POST /convert            â†’ éŸ³é¢‘è½¬æ¢æ¨ç†
    â””â”€â”€ GET /tasks/{task_id}     â†’ æ¨ç†ä»»åŠ¡çŠ¶æ€
```

---

## 4. æ¨¡å—ä¾èµ–å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Module Dependencies                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Web Frontend (Vue 3)
    â”œâ”€â”€ Naive UI (UI Components)
    â”œâ”€â”€ Pinia (State Management)
    â”œâ”€â”€ Vue Router (Routing)
    â””â”€â”€ Vite (Build Tool)

FastAPI Backend
    â”œâ”€â”€ FastAPI (Web Framework)
    â”œâ”€â”€ Uvicorn (ASGI Server)
    â”œâ”€â”€ Pydantic (Data Validation)
    â””â”€â”€ Python Services
        â”œâ”€â”€ Preprocessing Service
        â”‚   â”œâ”€â”€ Slicer Module
        â”‚   â”œâ”€â”€ MSST Engine
        â”‚   â””â”€â”€ Feature Extractor
        â”œâ”€â”€ Training Service
        â”‚   â”œâ”€â”€ Reflow Engine
        â”‚   â”œâ”€â”€ Data Loaders
        â”‚   â””â”€â”€ Optimizer (Muon/Chained)
        â”œâ”€â”€ Inference Service
        â”‚   â”œâ”€â”€ DDSP Engine
        â”‚   â”œâ”€â”€ NSF-HiFiGAN Vocoder
        â”‚   â””â”€â”€ AudioNoise Enhancements
        â””â”€â”€ MSST Service
            â””â”€â”€ Music Source Separation Models

Deep Learning Core
    â”œâ”€â”€ PyTorch (DL Framework)
    â”œâ”€â”€ Torchaudio (Audio Processing)
    â”œâ”€â”€ Encoders
    â”‚   â”œâ”€â”€ HuBERT
    â”‚   â”œâ”€â”€ ContentVec
    â”‚   â”œâ”€â”€ RMVPE
    â”‚   â””â”€â”€ FCPE
    â”œâ”€â”€ Models
    â”‚   â”œâ”€â”€ LynxNet2 (Reflow Model)
    â”‚   â”œâ”€â”€ Conformer (DDSP Model)
    â”‚   â”œâ”€â”€ BS-Roformer (MSST)
    â”‚   â”œâ”€â”€ Mel Band Roformer (MSST)
    â”‚   â””â”€â”€ Other MSST Models
    â””â”€â”€ Vocoders
        â””â”€â”€ NSF-HiFiGAN

Audio Processing
    â”œâ”€â”€ librosa (Audio Analysis)
    â”œâ”€â”€ soundfile (Audio I/O)
    â”œâ”€â”€ scipy (Signal Processing)
    â””â”€â”€ FFmpeg (Audio Conversion)
```

---

## 5. å­˜å‚¨æ¶æ„

```
Project Root
â”‚
â”œâ”€â”€ storage/                      # è¿è¡Œæ—¶æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ uploads/                  # ç”¨æˆ·ä¸Šä¼ çš„åŸå§‹éŸ³é¢‘
â”‚   â”œâ”€â”€ processed/                # é¢„å¤„ç†åçš„æ•°æ®
â”‚   â”œâ”€â”€ datasets/                 # è®­ç»ƒæ•°æ®é›†
â”‚   â””â”€â”€ outputs/                  # æ¨ç†è¾“å‡ºç»“æœ
â”‚
â”œâ”€â”€ exp/                          # è®­ç»ƒå®éªŒç›®å½•
â”‚   â””â”€â”€ {model_name}/             # æ¯ä¸ªæ¨¡å‹çš„å®éªŒ
â”‚       â”œâ”€â”€ *.pt                  # æ¨¡å‹æ£€æŸ¥ç‚¹
â”‚       â”œâ”€â”€ config.yaml           # è®­ç»ƒé…ç½®
â”‚       â””â”€â”€ logs/                 # è®­ç»ƒæ—¥å¿—
â”‚
â”œâ”€â”€ data/                         # æ•°æ®é›†ç›®å½•
â”‚   â”œâ”€â”€ train/                    # è®­ç»ƒé›†
â”‚   â”‚   â””â”€â”€ audio/                # è®­ç»ƒéŸ³é¢‘
â”‚   â””â”€â”€ val/                      # éªŒè¯é›†
â”‚       â””â”€â”€ audio/                # éªŒè¯éŸ³é¢‘
â”‚
â”œâ”€â”€ pretrain/                     # é¢„è®­ç»ƒæ¨¡å‹æƒé‡
â”‚   â”œâ”€â”€ hubert/                   # HuBERT é¢„è®­ç»ƒæƒé‡
â”‚   â”œâ”€â”€ contentvec/               # ContentVec é¢„è®­ç»ƒæƒé‡
â”‚   â”œâ”€â”€ rmvpe/                    # RMVPE é¢„è®­ç»ƒæƒé‡
â”‚   â”œâ”€â”€ fcpe/                     # FCPE é¢„è®­ç»ƒæƒé‡
â”‚   â”œâ”€â”€ nsf_hifigan/              # NSF-HiFiGAN é¢„è®­ç»ƒæƒé‡
â”‚   â””â”€â”€ vocoder/                  # å…¶ä»–å£°ç å™¨æƒé‡
â”‚
â”œâ”€â”€ other_weights/                # MSST æ¨¡å‹æƒé‡
â”‚   â”œâ”€â”€ BS-Roformer-*.ckpt
â”‚   â”œâ”€â”€ mel_band_roformer_*.ckpt
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ configs/                      # é…ç½®æ–‡ä»¶
    â””â”€â”€ reflow.yaml               # Reflow è®­ç»ƒé…ç½®
```

---

## 6. æŠ€æœ¯æ ˆæ€»è§ˆ

### Frontend
- **Framework**: Vue 3 (Composition API)
- **Language**: TypeScript
- **UI Library**: Naive UI (Apple-style Design)
- **State Management**: Pinia
- **Router**: Vue Router
- **Build Tool**: Vite
- **Styling**: CSS (Custom Apple-style)

### Backend
- **Framework**: FastAPI (Python 3.10+)
- **API Style**: RESTful API
- **Server**: Uvicorn (ASGI)
- **Validation**: Pydantic
- **Async**: Python asyncio
- **CORS**: FastAPI CORS Middleware

### Deep Learning
- **Framework**: PyTorch (2.0+)
- **Audio**: torchaudio, librosa, soundfile
- **Models**: 
  - Reflow (Flow Matching)
  - DDSP (Differentiable DSP)
  - Transformer-based models
  - U-Net based models
- **Vocoders**: NSF-HiFiGAN

### Audio Processing
- **DSP**: Custom DDSP implementation
- **Effects**: Reverb, Chorus, Tremolo, Vibrato
- **Filters**: Biquad filters, LFO modulation
- **Separation**: Multiple MSST architectures
- **Encoding**: FFmpeg for format conversion

### DevOps
- **Package Manager**: pip (Python), npm (Node.js)
- **Version Control**: Git
- **Documentation**: Markdown
- **Configuration**: YAML

---

## 7. æ ¸å¿ƒç®—æ³•æµç¨‹

### 7.1 Voice Conversion Pipeline

```
Input Audio
    â†“
[1] Preprocessing
    â”œâ”€â”€ Audio Loading & Resampling
    â”œâ”€â”€ Silence Detection & Trimming
    â””â”€â”€ Optional: MSST Vocal Separation
    â†“
[2] Feature Extraction
    â”œâ”€â”€ F0 Extraction (RMVPE/FCPE)
    â”‚   â””â”€â”€ Pitch curve + Voicing detection
    â”œâ”€â”€ Content Encoding (HuBERT/ContentVec)
    â”‚   â””â”€â”€ Linguistic content features
    â””â”€â”€ Audio Mel-Spectrogram
    â†“
[3] Acoustic Modeling (Reflow)
    â”œâ”€â”€ Condition: Content + F0 + Speaker ID
    â”œâ”€â”€ Reflow Sampling (ODE Solver)
    â””â”€â”€ Output: Mel-Spectrogram
    â†“
[4] Vocoding (NSF-HiFiGAN)
    â”œâ”€â”€ Neural Source Filter
    â”œâ”€â”€ F0-conditioned synthesis
    â””â”€â”€ Output: Waveform
    â†“
[5] Post-Processing (AudioNoise)
    â”œâ”€â”€ F0 Smoothing (Optional)
    â”œâ”€â”€ Vibrato/Tremolo (Optional)
    â”œâ”€â”€ Effects Chain (Chorus, Reverb)
    â””â”€â”€ Final Enhancement
    â†“
Output Audio
```

### 7.2 Training Pipeline

```
Training Data
    â†“
[1] Data Loading
    â”œâ”€â”€ Audio files from dataset
    â”œâ”€â”€ On-the-fly augmentation
    â””â”€â”€ Batch creation
    â†“
[2] Feature Extraction
    â”œâ”€â”€ F0 extraction (cached)
    â”œâ”€â”€ HuBERT encoding (cached)
    â””â”€â”€ Mel-spectrogram computation
    â†“
[3] Model Forward Pass
    â”œâ”€â”€ LynxNet2 / Conformer model
    â”œâ”€â”€ Reflow matching objective
    â””â”€â”€ Speaker conditioning
    â†“
[4] Loss Calculation
    â”œâ”€â”€ Flow matching loss
    â”œâ”€â”€ Auxiliary losses
    â””â”€â”€ Regularization
    â†“
[5] Optimization
    â”œâ”€â”€ Gradient computation
    â”œâ”€â”€ Optimizer step (Muon/Adam)
    â””â”€â”€ Learning rate scheduling
    â†“
[6] Checkpointing
    â”œâ”€â”€ Save model weights
    â”œâ”€â”€ Save optimizer state
    â””â”€â”€ Log metrics
```

---

## 8. å…³é”®ç‰¹æ€§

### ğŸµ Audio Processing
- **DDSP-based synthesis**: Differentiable digital signal processing
- **Neural vocoders**: NSF-HiFiGAN for high-quality audio generation
- **Multi-encoder support**: HuBERT, ContentVec, RMVPE, FCPE
- **Reflow algorithm**: Advanced flow matching for acoustic modeling

### ğŸšï¸ AudioNoise Enhancements
- **F0 smoothing**: Low-pass filtering on pitch contours
- **Vibrato**: LFO-based pitch modulation
- **Tremolo**: LFO-based amplitude modulation
- **Effects chain**: Chorus, reverb, and other audio effects
- **Octave correction**: Automatic pitch octave fixing

### ğŸ¼ Music Source Separation (MSST)
- **Multi-model support**: BS-Roformer, Mel Band Roformer, Demucs, MDX23C, SCNet, BANDIT
- **Applications**: Vocal isolation, denoising, dereverberation, karaoke
- **Pre-trained weights**: Multiple specialized models for different tasks

### ğŸ–¥ï¸ Modern UI
- **Apple-style design**: Clean, minimalist interface
- **Responsive layout**: Works on desktop and tablet
- **Real-time feedback**: Progress bars, task status updates
- **File management**: Upload, preview, organize audio files

### ğŸš€ Performance
- **GPU acceleration**: CUDA support for faster processing
- **Async processing**: Non-blocking background tasks
- **Batch processing**: Handle multiple files efficiently
- **Caching**: Feature caching to speed up training

---

## 9. éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Deployment Options                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Option 1: Development (Local)
    â”œâ”€â”€ Frontend: npm run dev (Vite Dev Server, Port 5173)
    â”œâ”€â”€ Backend: uvicorn api.main:app (Port 8000)
    â””â”€â”€ Communication: Direct HTTP calls

Option 2: Production (Single Server)
    â”œâ”€â”€ Frontend: npm run build â†’ static files
    â”œâ”€â”€ Backend: uvicorn with workers
    â”œâ”€â”€ Reverse Proxy: Nginx
    â”‚   â”œâ”€â”€ /api/* â†’ Backend (Port 8000)
    â”‚   â””â”€â”€ /* â†’ Frontend static files
    â””â”€â”€ Process Manager: systemd / PM2

Option 3: Containerized (Docker)
    â”œâ”€â”€ Frontend Container (Nginx + Vue build)
    â”œâ”€â”€ Backend Container (Python + FastAPI)
    â”œâ”€â”€ Volume Mounts:
    â”‚   â”œâ”€â”€ /storage (Uploads, outputs)
    â”‚   â”œâ”€â”€ /exp (Model checkpoints)
    â”‚   â””â”€â”€ /pretrain (Pre-trained weights)
    â””â”€â”€ Docker Compose for orchestration

Hardware Requirements:
    â”œâ”€â”€ CPU: Multi-core recommended (8+ cores ideal)
    â”œâ”€â”€ RAM: 16GB+ (32GB recommended for training)
    â”œâ”€â”€ GPU: NVIDIA GPU with CUDA support (8GB+ VRAM)
    â”‚   â””â”€â”€ For inference: RTX 3060+ (12GB)
    â”‚   â””â”€â”€ For training: RTX 3090+ (24GB)
    â””â”€â”€ Storage: 50GB+ (models + data)
```

---

## 10. æ‰©å±•æ€§è®¾è®¡

### å¯æ‰©å±•ç‚¹

1. **æ–°å¢éŸ³é¢‘ç¼–ç å™¨**
   - ä½ç½®: `encoder/` ç›®å½•
   - æ¥å£: å®ç°æ ‡å‡†ç¼–ç å™¨æ¥å£
   - ç¤ºä¾‹: æ·»åŠ  W2V-BERTã€Data2Vec

2. **æ–°å¢å£°ç å™¨**
   - ä½ç½®: `vocoder/` æˆ– `nsf_hifigan/`
   - æ¥å£: å®ç° vocoder æ¥å£
   - ç¤ºä¾‹: BigVGANã€UnivNet

3. **æ–°å¢ MSST æ¨¡å‹**
   - ä½ç½®: `Music_Source_Separation_Training/models/`
   - é…ç½®: æ·»åŠ  YAML é…ç½®æ–‡ä»¶
   - ç¤ºä¾‹: ä»»ä½• PyTorch åˆ†ç¦»æ¨¡å‹

4. **æ–°å¢éŸ³é¢‘æ•ˆæœ**
   - ä½ç½®: `ddsp/effects_chain.py`
   - æ¥å£: ç»§æ‰¿ Effect åŸºç±»
   - ç¤ºä¾‹: Compressor, EQ, Delay

5. **æ–°å¢è®­ç»ƒç®—æ³•**
   - ä½ç½®: `reflow/` ç›®å½•
   - æ¥å£: å®ç° solver æ¥å£
   - ç¤ºä¾‹: Diffusion, VAE-based methods

6. **æ–°å¢ API ç«¯ç‚¹**
   - ä½ç½®: `api/routes/`
   - æœåŠ¡: `api/services/`
   - ç¤ºä¾‹: Batch processing, real-time streaming

---

## 11. å®‰å…¨æ€§è€ƒè™‘

```
Security Measures:
â”œâ”€â”€ Input Validation
â”‚   â”œâ”€â”€ File type checking (audio formats only)
â”‚   â”œâ”€â”€ File size limits
â”‚   â””â”€â”€ Sanitize file names
â”œâ”€â”€ API Security
â”‚   â”œâ”€â”€ CORS configuration
â”‚   â”œâ”€â”€ Rate limiting (recommended)
â”‚   â””â”€â”€ Authentication (to be implemented)
â”œâ”€â”€ File System
â”‚   â”œâ”€â”€ Isolated storage directories
â”‚   â”œâ”€â”€ No path traversal
â”‚   â””â”€â”€ Temporary file cleanup
â””â”€â”€ Model Safety
    â”œâ”€â”€ Validate checkpoint integrity
    â”œâ”€â”€ Sandboxed model loading
    â””â”€â”€ Resource limits (memory, GPU)
```

---

## 12. æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°
- âœ… GPU åŠ é€Ÿ (CUDA)
- âœ… ç‰¹å¾ç¼“å­˜ (HuBERT, F0)
- âœ… å¼‚æ­¥ä»»åŠ¡å¤„ç†
- âœ… æ‰¹å¤„ç†æ”¯æŒ
- âœ… å¤šè¿›ç¨‹æ•°æ®åŠ è½½

### å¯ä¼˜åŒ–é¡¹
- ğŸ”„ æ¨¡å‹é‡åŒ– (INT8/FP16)
- ğŸ”„ ONNX å¯¼å‡º (å·²æœ‰è„šæœ¬)
- ğŸ”„ TensorRT åŠ é€Ÿ
- ğŸ”„ æµå¼æ¨ç† (é™ä½å»¶è¿Ÿ)
- ğŸ”„ åˆ†å¸ƒå¼è®­ç»ƒ (å¤š GPU)

---

## 13. ç›‘æ§ä¸æ—¥å¿—

```
Monitoring Stack:
â”œâ”€â”€ Application Logs
â”‚   â”œâ”€â”€ Logger module (logger/)
â”‚   â”œâ”€â”€ Training logs (exp/{model}/logs/)
â”‚   â””â”€â”€ API access logs
â”œâ”€â”€ System Metrics
â”‚   â”œâ”€â”€ GPU utilization
â”‚   â”œâ”€â”€ Memory usage
â”‚   â””â”€â”€ Disk I/O
â””â”€â”€ Task Tracking
    â”œâ”€â”€ Background task status
    â”œâ”€â”€ Progress reporting
    â””â”€â”€ Error tracking
```

---

## é™„å½•ï¼šæ ¸å¿ƒæ–‡ä»¶æ¸…å•

### ä¸»è¦å…¥å£æ–‡ä»¶
- `api/main.py` - FastAPI åº”ç”¨ä¸»å…¥å£
- `main_reflow.py` - Reflow è®­ç»ƒä¸»è„šæœ¬
- `batch_infer.py` - æ‰¹é‡æ¨ç†è„šæœ¬
- `preprocess.py` - é¢„å¤„ç†è„šæœ¬
- `web/src/main.ts` - Vue å‰ç«¯å…¥å£

### æ ¸å¿ƒæ¨¡å—
- `ddsp/` - DDSP å¤„ç†å¼•æ“
- `reflow/` - Reflow è®­ç»ƒå¼•æ“
- `encoder/` - éŸ³é¢‘ç¼–ç å™¨
- `nsf_hifigan/` - NSF-HiFiGAN å£°ç å™¨
- `Music_Source_Separation_Training/` - MSST å¼•æ“

### API å±‚
- `api/routes/` - API è·¯ç”±å®šä¹‰
- `api/services/` - ä¸šåŠ¡é€»è¾‘æœåŠ¡
- `api/models/` - æ•°æ®æ¨¡å‹ (Pydantic)

### å‰ç«¯
- `web/src/views/` - Vue è§†å›¾ç»„ä»¶
- `web/src/api/` - API å®¢æˆ·ç«¯
- `web/src/router.ts` - è·¯ç”±é…ç½®

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-13  
**é¡¹ç›®**: DDSP-SVC with Apple Style UI
```

